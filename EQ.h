/**

 Table with scaling for a-weighting and correction of microphone frequency response is combined in one table.
 Generated with helper program (precalculate_bin_scale_table.rb). 
 Different versions depending on samplerate and FFT SIZE and the amount of fractional bits used for qnums in the table.
  
*/

#include "Util.h"
#include "SLMSettings.h"

#if (USE_FLOATS == 1 && FS == 48000 && FFT_SIZE == 2048)

//dbA and frequency response from datasheet combined
const float CORRECTED_DBS_FLOAT[] = {0.0,0.0014109182687158596,0.01254821108016957,0.03766001235385642,0.07622321409985014,0.12502005978867817,0.18184474609125276,0.24318821963157522,0.3098390443015503,0.37588369772314206,0.44255132884685255,0.509455072496698,0.5722839180021461,0.6318768469445457,0.6877680806120631,0.7395984917344486,0.7895513722383593,0.8378006399457838,0.8827034404186936,0.9243618196990958,0.9629139105510293,0.9985201879983946,1.0313531090702492,1.0611577735557676,1.0868880074511338,1.1105890071300142,1.1319561410241146,1.1515205381808182,1.1693576613465548,1.186344740230168,1.2027717313184358,1.2178029178714898,1.2315438989102114,1.2440916749802733,1.2555352087614375,1.2659560036362494,1.2754286791427536,1.2840215292328485,1.29179705435848,1.2988124620821495,1.3051201335176403,1.3107680547276321,1.3158002134454374,1.3202569623059277,1.324175350282905,1.327547396807691,1.3285734312176645,1.32889865534834,1.3288523216994357,1.3286491520085433,1.328033152143601,1.3270841227645003,1.3268184280349866,1.3271398902451241,1.3271689359905245,1.3269209560942588,1.3264102755881593,1.3256502444397433,1.3246533197776438,1.3234311404560302,1.3219945947143843,1.319013067581993,1.3142643240462937,1.3093410961704737,1.3041021339017267,1.2990049814551516,1.2937376451680205,1.2882126638820084,1.282827387917541,1.2771340171296863,1.2700263349265377,1.2614221264304168,1.2528260108189357,1.2442400496284565,1.235877731151361,1.2273806315512261,1.218826231475071,1.2103886318894603,1.2020391778004296,1.1938187653855323,1.1896327869753707,1.1855608035669392,1.1814431061811788,1.1772505419487531,1.172986089944412,1.1686526171976868,1.1642528852745881,1.159789556365414,1.155265198919314,1.1506822928626705,1.1448814932719558,1.1380180530785182,1.1303045323230976,1.122778804940666,1.115139546563444,1.1074575322860174,1.0997961136691403,1.0922999795224273,1.0847881058804867,1.0771854775144647,1.0697503797094248,1.062299941136431,1.0547654783372422,1.0472607854124412,1.0398071328140484,1.0324999941213997,1.0251228976333109,1.017709618093319,1.010336408451596,1.003036069153645,0.9958491345207516,0.9885947031839903,0.9813214940406855,0.9740904697747594,0.9669210589718498,0.9598722825294066,0.95292243679485,0.9460489031828054,0.9392076758474455,0.9323839625442484,0.9255982881596534,0.9188309442306437,0.9120980525893476,0.9053883835600427,0.8987104180797801,0.8920596030432593,0.885438530070337,0.8788476421468678,0.8722852788300509,0.865755284400012,0.8592532760366308,0.852848486908609,0.8465055082933897,0.8403182986948577,0.8342227793481092,0.8280973790269651,0.8219622443907985,0.8158566950586346,0.8097790569744175,0.8037301763944288,0.7977113039486934,0.7917199040269427,0.7857609832200865,0.7798438905648165,0.7740273086649503,0.7682303890782579,0.7621560041779467,0.7561094616166246,0.7498034653054703,0.7434538499683468,0.7371907497734357,0.7310069010297335,0.724844575981624,0.7186784328073946,0.7125475915397965,0.7064716894398143,0.7004329443751084,0.6944784964755965,0.6885972494394824,0.6827431631418341,0.6768859203623042,0.6710644101971043,0.6652926353781511,0.6595617800585575,0.6538715489037793,0.6482307626575611,0.6426257905660021,0.6372428777111278,0.631954273706723,0.626711776441827,0.6215560071477628,0.6164312912772874,0.6113122198743073,0.6062092066564183,0.6011382533527758,0.5961119747129218,0.5911177960563577,0.5861760250472088,0.5813074726383143,0.5764700834190634,0.5716409950337368,0.5668296958697945,0.5620503191220907,0.557312739379226,0.5526083795969573,0.5479404530986666,0.543354648259616,0.5387997251933228,0.5344070533179934,0.5304319287392805,0.5264794527775702,0.5225967797117103,0.5188140432559507,0.5150523038900789,0.5113116275453736,0.5075920749519772,0.5038937017494424,0.5002165585959121,0.496560691275945,0.49292614080698366,0.4893129435444723,0.48572113128561784,0.4821507313718119,0.4786017667897014,0.47507425627092015,0.47156821439048197,0.4680836516638383,0.46462057464260403,0.4611789860089577,0.4577588846687151,0.45436026584308736,0.4509831211591214,0.4476274387388323,0.444385029018642,0.4411653573714144,0.4379657159128732,0.43496091223416783,0.43203991262824953,0.4291355489351857,0.4262332311863047,0.4233282425183496,0.4204403707740056,0.4175714840227768,0.4147416086876401,0.41192850945407045,0.4091321784146776,0.4063311070193943,0.40353696776327985,0.40075998787807915,0.3980051788901473,0.3952844105930491,0.39258042862814063,0.3898932077677392,0.3872015512813061,0.38451883409632476,0.3818531901623407,0.37920397199740336,0.3765686902626374,0.3739504162173131,0.3713491069317219,0.36887787513932613,0.3665130704252333,0.3641623742706406,0.36182576293581875,0.35985158673602596,0.35793253419653487,0.35602289349462013,0.3541207106182091,0.35221777069464744,0.3503243935934224,0.3484405824025316,0.34655398178417457,0.3446569866616055,0.34276990988887057,0.3408927465117448,0.33903034484715633,0.33718189433220797,0.33534323747663114,0.33351436529785294,0.3316882371487326,0.329868062293717,0.3280577573364678,0.32625730796780533,0.32470162919443485,0.3232608377544987,0.3218264726863932,0.3203985412751289,0.3190868657767802,0.31783529660808707,0.3165888092866017,0.3153474163742109,0.31411101448432843,0.31287964997684253,0.3116534140750129,0.31043231604139176,0.30920109114841515,0.3079561876913568,0.3067167162543401,0.3054826813024152,0.3041203963223463,0.30234277055126235,0.3005760614243075,0.2988202266263375,0.2970752233164479,0.2952268798087981,0.2933871011367094,0.2915594293821747,0.2897438062511401,0.28794592066115776,0.28616318993632117,0.2843922194174823,0.2826329506438927,0.2808805727832206,0.27912423091590743,0.2773796662491029,0.2756468167667018,0.2739256202553231,0.27233831966324434,0.27079885524248226,0.2692689671997073,0.2677486111219557,0.26645490648922515,0.26591292175663567,0.26537297708838187,0.2648350828915806,0.26429924921425785,0.2637518433488135,0.2631981588032253,0.26264665319621616,0.26209733466265434,0.26155021100595854,0.2609850608555082,0.26042092217030544,0.2598590905392719,0.2592995719377532,0.25873600971306854,0.258147862124635,0.25756219038190764,0.256978998346461,0.25639828959596545,0.25581703182433285,0.25523308687775603,0.25465167145406437,0.254072787807671,0.2534964379360187,0.2530571410569526,0.25276990236460994,0.2524842411181269,0.2522001651265558,0.2519176819874276,0.25179166155972277,0.2518210701344624,0.2518517906167374,0.25188383498942984,0.2519172150872095,0.2519388761095507,0.2519461818823312,0.251954852679235,0.2519648992927897,0.2519763323739918,0.2519834922555552,0.2519805214908346,0.25197896732608915,0.2519788395768144,0.2519801479257555,0.25230040110412816,0.2548293766044185,0.25738519735282533,0.2599681718092849,0.2625786121313699,0.26521683422019754,0.26808605749815617,0.27102595183462663,0.27399973474064276,0.27700782306650185,0.2800506390033609,0.2819271801103676,0.2825137744398102,0.2831033376293468,0.28369589164135445,0.28429145844485004,0.28488827474739775,0.285437619073649,0.2859898301291245,0.28654492827948685,0.28710293388909625,0.28766386732250654,0.28827918336274194,0.2889482248761574,0.28962069489187653,0.2902966172126633,0.2909760156800818,0.29165891417600204,0.2924761616962052,0.2933136854169043,0.29415555377978303,0.2950017968395945,0.29585244475321815,0.29672599096102265,0.2976825265338862,0.29864415293810426,0.29961090546824093,0.3005828195724425,0.30155993085434885,0.30325643572808103,0.3060280542203387,0.3088271143873952,0.3116539110576716,0.31450874235853477,0.317391909754697,0.3202558108462461,0.32310456340015786,0.32598091603373147,0.3288851594879302,0.331817587692524,0.33477849780252095,0.3377297560308091,0.34067920046721983,0.34365681457233044,0.3466628910753959,0.349697725872365,0.3527616180615941,0.3558122346628785,0.35884957215072116,0.36191540399982364,0.36501002141338673,0.36813371869200484,0.37128679326805014,0.3737585468018493,0.3749502460495838,0.37614843607562715,0.3773531583585866,0.3785644545778843,0.3797823666159076,0.3809592944897767,0.3817574132655115,0.3825599612220504,0.38336696224379707,0.3841784402803824,0.38499441934809775,0.38581492353132874,0.38680196947769985,0.38784277020031427,0.3888891933727272,0.38994127172837584,0.39099903813794007,0.3920625256110397,0.3932098459887496,0.394520058596029,0.39583752221166024,0.39716228213550314,0.3984943839088201,0.3998338733165602,0.4011807963896499,0.4024860579119894,0.4037860152695284,0.4050931353175368,0.40640746168522446,0.40772903823144413,0.4090579090468489,0.4103840969565343,0.41166556785139513,0.41295406845228994,0.41424964050824875,0.41555232598469605,0.4168621670654844,0.41817920615493137,0.4177544016691754,0.4149757665858032,0.4122186401001844,0.4094828392441369,0.40676818265726017,0.4040744905738024,0.4014015848095945,0.39874928874905546,0.39611742733226524,0.3935058270421095,0.3909143158914951,0.38834272341063886,0.3857908806344259,0.38325862008984624,0.38074577578349716,0.37825218318916914,0.3757776792354978,0.37332210229369633,0.37088529216536154,0.3684670900703549,0.36606733863476,0.36368588187891987,0.36132256520554373,0.3589772353878973,0.3566497405580678,0.3543399301953062,0.3520476551144468,0.3497727674544052,0.3475151206667544,0.34527456950437696,0.3430509700101976,0.3408441795059922,0.3386540565812756,0.33648046108226787,0.33432325410093733,0.33218229796412374,0.33005745622273813,0.3279485936410409,0.32585557618599853,0.32377827101671774,0.3217165464739568,0.3196702720697169,0.3176393184769084,0.31562355751909565,0.31362286216032004,0.3116371064949971,0.3096661657378953,0.3077099162141874,0.3057682353495805,0.30384100166052064,0.3019280947444763,0.3000293952702954,0.2981447849686381,0.2962741466224868,0.29441736405772884,0.2925743221338147,0.29074490673449266,0.28892900475861555,0.2871265041110205,0.2853372936934865,0.28356126339576,0.2817983040866582,0.2800483076052416,0.27831116675206047,0.2765867752804737};

#elif (USE_FLOATS == 0 && SCALING_TABLE_FRACBITS == 8 && FS == 48000 && FFT_SIZE == 2048)

//dbA and frequency response from datasheet combined
const uint32_t CORRECTED_DBS_FIXED_POINT[] = {0x0,0x0,0x3,0x9,0x13,0x20,0x2e,0x3e,0x4f,0x60,0x71,0x82,0x92,0xa1,0xb0,0xbd,0xca,0xd6,0xe1,0xec,0xf6,0xff,0x108,0x10f,0x116,0x11c,0x121,0x126,0x12b,0x12f,0x133,0x137,0x13b,0x13e,0x141,0x144,0x146,0x148,0x14a,0x14c,0x14e,0x14f,0x150,0x151,0x152,0x153,0x154,0x154,0x154,0x154,0x153,0x153,0x153,0x153,0x153,0x153,0x153,0x153,0x153,0x152,0x152,0x151,0x150,0x14f,0x14d,0x14c,0x14b,0x149,0x148,0x146,0x145,0x142,0x140,0x13e,0x13c,0x13a,0x138,0x135,0x133,0x131,0x130,0x12f,0x12e,0x12d,0x12c,0x12b,0x12a,0x128,0x127,0x126,0x125,0x123,0x121,0x11f,0x11d,0x11b,0x119,0x117,0x115,0x113,0x111,0x10f,0x10e,0x10c,0x10a,0x108,0x106,0x104,0x102,0x100,0xfe,0xfd,0xfb,0xf9,0xf7,0xf5,0xf3,0xf2,0xf0,0xee,0xec,0xeb,0xe9,0xe7,0xe6,0xe4,0xe2,0xe0,0xdf,0xdd,0xdb,0xda,0xd8,0xd7,0xd5,0xd3,0xd2,0xd0,0xcf,0xcd,0xcc,0xca,0xc9,0xc7,0xc6,0xc4,0xc3,0xc1,0xbf,0xbe,0xbc,0xbb,0xb9,0xb7,0xb6,0xb4,0xb3,0xb1,0xb0,0xae,0xad,0xab,0xaa,0xa8,0xa7,0xa5,0xa4,0xa3,0xa1,0xa0,0x9f,0x9d,0x9c,0x9b,0x99,0x98,0x97,0x96,0x94,0x93,0x92,0x91,0x8f,0x8e,0x8d,0x8c,0x8b,0x89,0x88,0x87,0x86,0x85,0x84,0x83,0x82,0x81,0x80,0x80,0x7f,0x7e,0x7d,0x7c,0x7b,0x7a,0x79,0x78,0x77,0x76,0x76,0x75,0x74,0x73,0x72,0x71,0x70,0x70,0x6f,0x6e,0x6d,0x6d,0x6c,0x6b,0x6a,0x6a,0x69,0x68,0x68,0x67,0x66,0x65,0x65,0x64,0x63,0x63,0x62,0x61,0x61,0x60,0x5f,0x5f,0x5e,0x5d,0x5d,0x5c,0x5c,0x5b,0x5b,0x5a,0x5a,0x59,0x59,0x58,0x58,0x57,0x57,0x56,0x56,0x55,0x55,0x54,0x54,0x53,0x53,0x53,0x52,0x52,0x52,0x51,0x51,0x51,0x50,0x50,0x50,0x4f,0x4f,0x4f,0x4e,0x4e,0x4e,0x4d,0x4d,0x4c,0x4c,0x4c,0x4b,0x4b,0x4a,0x4a,0x49,0x49,0x48,0x48,0x47,0x47,0x47,0x46,0x46,0x45,0x45,0x44,0x44,0x44,0x44,0x43,0x43,0x43,0x43,0x43,0x43,0x43,0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x41,0x41,0x41,0x41,0x41,0x41,0x41,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x41,0x41,0x42,0x43,0x43,0x44,0x45,0x46,0x46,0x47,0x48,0x48,0x48,0x48,0x48,0x48,0x49,0x49,0x49,0x49,0x49,0x49,0x49,0x4a,0x4a,0x4a,0x4a,0x4a,0x4b,0x4b,0x4b,0x4b,0x4b,0x4c,0x4c,0x4c,0x4c,0x4d,0x4d,0x4e,0x4f,0x4f,0x50,0x51,0x51,0x52,0x53,0x54,0x54,0x55,0x56,0x57,0x57,0x58,0x59,0x5a,0x5b,0x5b,0x5c,0x5d,0x5e,0x5f,0x5f,0x5f,0x60,0x60,0x60,0x61,0x61,0x61,0x61,0x62,0x62,0x62,0x62,0x63,0x63,0x63,0x63,0x64,0x64,0x64,0x64,0x65,0x65,0x66,0x66,0x66,0x67,0x67,0x67,0x68,0x68,0x68,0x69,0x69,0x69,0x6a,0x6a,0x6a,0x6b,0x6a,0x6a,0x69,0x68,0x68,0x67,0x66,0x66,0x65,0x64,0x64,0x63,0x62,0x62,0x61,0x60,0x60,0x5f,0x5e,0x5e,0x5d,0x5d,0x5c,0x5b,0x5b,0x5a,0x5a,0x59,0x58,0x58,0x57,0x57,0x56,0x56,0x55,0x55,0x54,0x53,0x53,0x52,0x52,0x51,0x51,0x50,0x50,0x4f,0x4f,0x4e,0x4e,0x4d,0x4d,0x4c,0x4c,0x4b,0x4b,0x4a,0x4a,0x49,0x49,0x49,0x48,0x48,0x47,0x47,0x46};

#endif
